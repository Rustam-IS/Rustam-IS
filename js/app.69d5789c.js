(function(){"use strict";var __webpack_modules__={323:function(e,n,r){var t=r(9242),o=r(3396);const i=(0,o._)("div",{id:"editor"},null,-1),c=(0,o._)("div",{id:"field"},null,-1);function a(e,n,r,t,a,_){return(0,o.wg)(),(0,o.iD)(o.HY,null,[i,c],64)}r(560);var _=r(3956),u=r(2305);function s(e){return e.split(/[ \n\t]+/).filter((function(e){return["RIGHT","UP","LEFT","DOWN","SET","CALL","PROCEDURE","ENDPROC","REPEAT","ENDREPEAT","IFBLOCK","ENDIF"].includes(e)||/[a-zA-Z][a-zA-Z0-9]*/.test(e)||/[0-9]+/.test(e)}))}var f=r(8859);function d(e){const n=Math.min(window.innerHeight,window.innerWidth);return n*e/100}const l=e=>new Promise((n=>setTimeout(n,e)));async function p({func:e,scope:n,objs:r,board:t,interrupt:o,walls:i,configs:c={strokeWidth:()=>d(.5),strokeColor:"lightblue",highlightStrokeColor:"lightblue"}}){let a=.5,_=.5;const u=t.create("point",[a,_],{size:()=>d(1.2),name:""});r.push([u]);const s=100;async function f(e,n){const f=a,p=_,b=t.create("point",[f,p],{size:()=>d(.55),name:""}),k=t.create("point",[f,p],{size:()=>d(.55),name:""}),w=t.create("segment",[b,k],c),h="x"===n?e:0,m="y"===n?e:0;r.push(b,k,w);for(let r=0;r<=h;r+=.5)for(let e=0;e<=m;e+=.5){if(o())return;const n=f+r,t=p+e;n%1<.1&&[[n,Math.floor(t)],[n,Math.ceil(t)]]in i&&(o=function(){return!0}),t%1<.1&&[[Math.floor(n),t],[Math.ceil(n),t]]in i&&(o=function(){return!0}),k.moveTo([n,t],s),u.moveTo([n,t],s),await l(s)}a+=h,_+=m}return e(n={...n,RIGHT:async function(e){o()||await f(e,"x")},UP:async function(e){o()||await f(-e,"y")},LEFT:async function(e){o()||await f(-e,"x")},DOWN:async function(e){o()||await f(e,"y")},blocked:async function(e){return!1}}),r}let b;_.Mj.register({id:"custom"}),_.Mj.setMonarchTokensProvider("custom",{keywords:["IFBLOCK","ENDIF","REPEAT","ENDREPEAT","PROCEDURE","ENDPROC","SET","CALL","RIGHT","LEFT","UP","DOWN"],tokenizer:{root:[[/[A-Z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/\d+/,"number"]]}});var k={name:"app",async mounted(){function e(e){const n=Math.min(window.innerHeight,window.innerWidth);return n*e/100}const n=document.querySelector("#editor"),r=_.j6.create(n,{value:"\n",language:"custom",theme:"vs-dark",fontSize:`${e(2.5)}px`,scrollbar:{verticalHasArrows:!0,horizontalHasArrows:!0}});b=u.Nn.initBoard("field",{boundingbox:[-.5,-.5,22,22],axis:!0,showCopyright:!1,defaultAxes:{x:{strokeColor:"white",highlightStrokeColor:"white",ticks:{insertTicks:!1,ticksDistance:1,minorHeight:0,strokeColor:"white",label:{strokeColor:"white",highlightStrokeColor:"white",offset:[0,-6],anchorX:"middle",anchorY:"top",fontSize:()=>e(2)}}},y:{strokeColor:"white",highlightStrokeColor:"white",ticks:{insertTicks:!1,ticksDistance:1,minorHeight:0,strokeColor:"white",label:{strokeColor:"white",highlightStrokeColor:"white",offset:[6,0],anchorX:"left",anchorY:"middle",fontSize:()=>e(2)}}}},drag:{enabled:!1},pan:{enabled:!0,needShift:!0},zoom:{min:1,max:2}}),addEventListener("resize",(function(){r.updateOptions({fontSize:`${e(2.5)}px`}),r.layout()}));const t=[];let o=0;const i=[!1],c={};addEventListener("keydown",(async function(e){if(115!==e.keyCode)return;for(const r of t)b.removeObject(r);i[o]=!0,i.push(!1),o++;const n=o;console.log(i),await p({...(0,f.Q)(s(r.getValue())),interrupt:function(){return i[n]},board:b,objs:t,walls:c})})),b.on("down",(function(e,n){const r=b.getCoordsTopLeftCorner(e,n),t=u.bt(e,n),o=t[0]-r[0],i=t[1]-r[1];let a=new u.mZ(u.fy,[o,i],b);const[_,s,f]=a.usrCoords,[d,l,p]=[Math.floor(s),Math.round(s),Math.ceil(s)],[k,w,h]=[Math.floor(f),Math.round(f),Math.ceil(f)];Math.abs(l-s)<.1?a=[[l,k],[l,h]]:Math.abs(w-f)<.1&&(a=[[d,w],[p,w]]),a instanceof u.mZ||(a in c?(b.removeObject(c[a]),delete c[a]):c[a]=b.create("segment",a,{strokeColor:"red",highlightStrokeColor:"red"}))})),r.focus()}},w=r(89);const h=(0,w.Z)(k,[["render",a]]);var m=h,g=r(5431);(0,g.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,t.ri)(m).mount("#app")},8859:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function parse(tokens,scope={},guard=!0){let cmds="";const token=function(){return tokens.splice(0,1)[0]};while(tokens.length){const temp=token();if("IFBLOCK"===temp)cmds+=`\n                if (scope.blocked('${token()}') {\n                    ${parse(tokens,scope,!1)}\n                }\n            `;else if("REPEAT"===temp)cmds+=`\n                for (let pos = 0; pos < ${token()}; pos++) {\n                    ${parse(tokens,scope,!1)}\n                }\n            `;else if("PROCEDURE"===temp)scope[token()]=eval(`(\n                async function(scope) {\n                    ${parse(tokens,scope,!1)}\n                }\n            )`);else if("CALL"===temp)cmds+=`\n                await scope.${token()}(scope)\n            `;else if("SET"===temp)cmds+=`\n                scope.${token()} = ${token()}\n            `;else if(["RIGHT","UP","LEFT","DOWN"].includes(temp)){let e=token();e=isNaN(parseInt(e))?`scope.${e}`:e,cmds+=`\n                await scope.${temp}(${e})\n            `}else if(["ENDIF","ENDREPEAT","ENDPROC"].includes(temp))return cmds}return guard?{func:eval(`(\n                async function(scope) {\n                    ${cmds}\n                }\n            )`),scope:scope}:cmds}__webpack_require__.d(__webpack_exports__,{Q:function(){return parse}})}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,function(){__webpack_require__.amdO={}}(),function(){var e=[];__webpack_require__.O=function(n,r,t,o){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],t=e[u][1],o=e[u][2];for(var c=!0,a=0;a<r.length;a++)(!1&o||i>=o)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](r[a])}))?r.splice(a--,1):(c=!1,o<i&&(i=o));if(c){e.splice(u--,1);var _=t();void 0!==_&&(n=_)}}return n}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,t,o]}}(),function(){__webpack_require__.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(n,{a:n}),n}}(),function(){__webpack_require__.d=function(e,n){for(var r in n)__webpack_require__.o(n,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(n,r){return __webpack_require__.f[r](e,n),n}),[]))}}(),function(){__webpack_require__.u=function(e){return"js/"+e+"."+{15:"9ece2fd2",75:"035f9f2a",386:"f25dcb6e",413:"d6f6768c",622:"767b483e",786:"f712247b",1022:"cbe27538",1030:"f956afe3",1319:"18312f16",1463:"521bf792",1598:"f786d536",1636:"d5fe9bc2",2008:"5fce23a7",2250:"9449a568",2341:"19dd8fea",2358:"11745268",2401:"e7f5c576",2532:"59789bc3",2784:"b7acaf4e",2804:"a11127a7",2936:"55a59490",3202:"8b9b2b8e",3263:"0cf31d41",3268:"0a5e49dc",3415:"30bfbdab",3629:"cbbf013e",3700:"a2daa725",3703:"69452b8f",3817:"fe32f44f",3956:"a5e4baea",3986:"63d066a4",4034:"25b2386e",4366:"e027a4f6",4816:"3673cbe4",4962:"e9ead825",5019:"effb13e5",5096:"3cd6077b",5106:"7a1b6b60",5191:"9b9b1f2a",5254:"bd42e145",5527:"bf311581",5630:"a88710e2",5661:"929f29d3",5662:"d2e092fe",5710:"ff8a3b76",5856:"e3ee4055",5985:"43114f9f",6044:"aed858a7",6048:"a73a7d20",6346:"af0dc9cb",6388:"7119da0b",6540:"d124cf95",6590:"98021b58",6786:"6f29059a",6862:"83bb0c20",6877:"3d668f36",6896:"3a096775",7007:"534b6154",7010:"13585428",7083:"c4a5a496",7099:"4518cc78",7146:"c17273ea",7271:"806391c3",7473:"092eb75a",7500:"2e62c435",7517:"dbe07dad",7643:"f04235d0",7954:"dd992ef9",7973:"bcaa5dbd",8248:"78cb5404",8412:"a3b7bf4a",8647:"5547c8dd",8822:"605f539e",9007:"abcdc446",9111:"5e36d569",9270:"3699e067",9380:"cd7c82d1",9583:"c7bc3d55",9674:"61966b52",9700:"103a3ddd",9765:"357e3f3b",9903:"46bf8e96",9906:"00becaea",9928:"f26b6c36"}[e]+".js"}}(),function(){__webpack_require__.miniCssF=function(e){}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={},n="grid-studio:";__webpack_require__.l=function(r,t,o,i){if(e[r])e[r].push(t);else{var c,a;if(void 0!==o)for(var _=document.getElementsByTagName("script"),u=0;u<_.length;u++){var s=_[u];if(s.getAttribute("src")==r||s.getAttribute("data-webpack")==n+o){c=s;break}}c||(a=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,__webpack_require__.nc&&c.setAttribute("nonce",__webpack_require__.nc),c.setAttribute("data-webpack",n+o),c.src=r),e[r]=[t];var f=function(n,t){c.onerror=c.onload=null,clearTimeout(d);var o=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(e){return e(t)})),n)return n(t)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),a&&document.head.appendChild(c)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.p="/"}(),function(){var e={2143:0};__webpack_require__.f.j=function(n,r){var t=__webpack_require__.o(e,n)?e[n]:void 0;if(0!==t)if(t)r.push(t[2]);else{var o=new Promise((function(r,o){t=e[n]=[r,o]}));r.push(t[2]=o);var i=__webpack_require__.p+__webpack_require__.u(n),c=new Error,a=function(r){if(__webpack_require__.o(e,n)&&(t=e[n],0!==t&&(e[n]=void 0),t)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;c.message="Loading chunk "+n+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,t[1](c)}};__webpack_require__.l(i,a,"chunk-"+n,n)}},__webpack_require__.O.j=function(n){return 0===e[n]};var n=function(n,r){var t,o,i=r[0],c=r[1],a=r[2],_=0;if(i.some((function(n){return 0!==e[n]}))){for(t in c)__webpack_require__.o(c,t)&&(__webpack_require__.m[t]=c[t]);if(a)var u=a(__webpack_require__)}for(n&&n(r);_<i.length;_++)o=i[_],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return __webpack_require__.O(u)},r=self["webpackChunkgrid_studio"]=self["webpackChunkgrid_studio"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var __webpack_exports__=__webpack_require__.O(void 0,[4998],(function(){return __webpack_require__(323)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.69d5789c.js.map